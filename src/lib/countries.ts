// Comprehensive country and continent mapping data

export const countryToContinent: Record<string, string> = {
  // North America
  'United States': 'North America',
  'USA': 'North America',
  'US': 'North America',
  'Canada': 'North America',
  'Mexico': 'North America',
  'Guatemala': 'North America',
  'Cuba': 'North America',
  'Haiti': 'North America',
  'Dominican Republic': 'North America',
  'Honduras': 'North America',
  'Nicaragua': 'North America',
  'El Salvador': 'North America',
  'Costa Rica': 'North America',
  'Panama': 'North America',
  'Jamaica': 'North America',
  'Trinidad and Tobago': 'North America',
  'Barbados': 'North America',
  'Bahamas': 'North America',
  'Belize': 'North America',
  
  // South America
  'Brazil': 'South America',
  'Argentina': 'South America',
  'Colombia': 'South America',
  'Peru': 'South America',
  'Venezuela': 'South America',
  'Chile': 'South America',
  'Ecuador': 'South America',
  'Bolivia': 'South America',
  'Paraguay': 'South America',
  'Uruguay': 'South America',
  'Guyana': 'South America',
  'Suriname': 'South America',
  'French Guiana': 'South America',
  
  // Europe
  'United Kingdom': 'Europe',
  'UK': 'Europe',
  'England': 'Europe',
  'Scotland': 'Europe',
  'Wales': 'Europe',
  'Northern Ireland': 'Europe',
  'France': 'Europe',
  'Germany': 'Europe',
  'Italy': 'Europe',
  'Spain': 'Europe',
  'Poland': 'Europe',
  'Romania': 'Europe',
  'Netherlands': 'Europe',
  'Belgium': 'Europe',
  'Czech Republic': 'Europe',
  'Czechia': 'Europe',
  'Greece': 'Europe',
  'Portugal': 'Europe',
  'Sweden': 'Europe',
  'Hungary': 'Europe',
  'Austria': 'Europe',
  'Belarus': 'Europe',
  'Switzerland': 'Europe',
  'Bulgaria': 'Europe',
  'Serbia': 'Europe',
  'Denmark': 'Europe',
  'Finland': 'Europe',
  'Slovakia': 'Europe',
  'Norway': 'Europe',
  'Ireland': 'Europe',
  'Croatia': 'Europe',
  'Bosnia and Herzegovina': 'Europe',
  'Albania': 'Europe',
  'Lithuania': 'Europe',
  'Slovenia': 'Europe',
  'Latvia': 'Europe',
  'Estonia': 'Europe',
  'Macedonia': 'Europe',
  'Moldova': 'Europe',
  'Malta': 'Europe',
  'Iceland': 'Europe',
  'Luxembourg': 'Europe',
  'Montenegro': 'Europe',
  'Russia': 'Europe', // Primarily European
  
  // Asia
  'China': 'Asia',
  'India': 'Asia',
  'Indonesia': 'Asia',
  'Pakistan': 'Asia',
  'Bangladesh': 'Asia',
  'Japan': 'Asia',
  'Philippines': 'Asia',
  'Vietnam': 'Asia',
  'Turkey': 'Asia',
  'Iran': 'Asia',
  'Thailand': 'Asia',
  'Myanmar': 'Asia',
  'South Korea': 'Asia',
  'Iraq': 'Asia',
  'Afghanistan': 'Asia',
  'Saudi Arabia': 'Asia',
  'Uzbekistan': 'Asia',
  'Malaysia': 'Asia',
  'Nepal': 'Asia',
  'Yemen': 'Asia',
  'North Korea': 'Asia',
  'Syria': 'Asia',
  'Sri Lanka': 'Asia',
  'Cambodia': 'Asia',
  'Jordan': 'Asia',
  'Azerbaijan': 'Asia',
  'United Arab Emirates': 'Asia',
  'UAE': 'Asia',
  'Tajikistan': 'Asia',
  'Israel': 'Asia',
  'Hong Kong': 'Asia',
  'Laos': 'Asia',
  'Singapore': 'Asia',
  'Lebanon': 'Asia',
  'Kyrgyzstan': 'Asia',
  'Turkmenistan': 'Asia',
  'Palestine': 'Asia',
  'Oman': 'Asia',
  'Kuwait': 'Asia',
  'Georgia': 'Asia',
  'Mongolia': 'Asia',
  'Armenia': 'Asia',
  'Qatar': 'Asia',
  'Bahrain': 'Asia',
  'East Timor': 'Asia',
  'Cyprus': 'Asia',
  'Bhutan': 'Asia',
  'Maldives': 'Asia',
  'Brunei': 'Asia',
  'Taiwan': 'Asia',
  'Kazakhstan': 'Asia',
  
  // Africa
  'Nigeria': 'Africa',
  'Ethiopia': 'Africa',
  'Egypt': 'Africa',
  'Democratic Republic of the Congo': 'Africa',
  'DRC': 'Africa',
  'Congo': 'Africa',
  'South Africa': 'Africa',
  'Tanzania': 'Africa',
  'Kenya': 'Africa',
  'Uganda': 'Africa',
  'Algeria': 'Africa',
  'Sudan': 'Africa',
  'Morocco': 'Africa',
  'Angola': 'Africa',
  'Ghana': 'Africa',
  'Mozambique': 'Africa',
  'Madagascar': 'Africa',
  'Cameroon': 'Africa',
  'Ivory Coast': 'Africa',
  'Niger': 'Africa',
  'Burkina Faso': 'Africa',
  'Mali': 'Africa',
  'Malawi': 'Africa',
  'Zambia': 'Africa',
  'Senegal': 'Africa',
  'Somalia': 'Africa',
  'Chad': 'Africa',
  'Zimbabwe': 'Africa',
  'Guinea': 'Africa',
  'Rwanda': 'Africa',
  'Benin': 'Africa',
  'Tunisia': 'Africa',
  'Burundi': 'Africa',
  'South Sudan': 'Africa',
  'Togo': 'Africa',
  'Sierra Leone': 'Africa',
  'Libya': 'Africa',
  'Liberia': 'Africa',
  'Mauritania': 'Africa',
  'Eritrea': 'Africa',
  'Gambia': 'Africa',
  'Botswana': 'Africa',
  'Namibia': 'Africa',
  'Gabon': 'Africa',
  'Lesotho': 'Africa',
  'Guinea-Bissau': 'Africa',
  'Equatorial Guinea': 'Africa',
  'Mauritius': 'Africa',
  'Eswatini': 'Africa',
  'Djibouti': 'Africa',
  'Comoros': 'Africa',
  'Cape Verde': 'Africa',
  'Sao Tome and Principe': 'Africa',
  'Seychelles': 'Africa',
  
  // Oceania
  'Australia': 'Oceania',
  'Papua New Guinea': 'Oceania',
  'New Zealand': 'Oceania',
  'Fiji': 'Oceania',
  'Solomon Islands': 'Oceania',
  'Vanuatu': 'Oceania',
  'Samoa': 'Oceania',
  'Micronesia': 'Oceania',
  'Tonga': 'Oceania',
  'Kiribati': 'Oceania',
  'Palau': 'Oceania',
  'Marshall Islands': 'Oceania',
  'Tuvalu': 'Oceania',
  'Nauru': 'Oceania',
};

// Common city to country mapping for better detection
export const cityToCountry: Record<string, string> = {
  // USA Cities
  'New York': 'United States',
  'Los Angeles': 'United States',
  'Chicago': 'United States',
  'Houston': 'United States',
  'Phoenix': 'United States',
  'Philadelphia': 'United States',
  'San Antonio': 'United States',
  'San Diego': 'United States',
  'Dallas': 'United States',
  'San Jose': 'United States',
  'Austin': 'United States',
  'Boston': 'United States',
  'Seattle': 'United States',
  'Denver': 'United States',
  'San Francisco': 'United States',
  'Washington': 'United States',
  'Miami': 'United States',
  'Atlanta': 'United States',
  'Las Vegas': 'United States',
  'Portland': 'United States',
  
  // Canada Cities
  'Toronto': 'Canada',
  'Montreal': 'Canada',
  'Vancouver': 'Canada',
  'Calgary': 'Canada',
  'Edmonton': 'Canada',
  'Ottawa': 'Canada',
  'Winnipeg': 'Canada',
  'Quebec City': 'Canada',
  
  // UK Cities
  'London': 'United Kingdom',
  'Birmingham': 'United Kingdom',
  'Manchester': 'United Kingdom',
  'Glasgow': 'United Kingdom',
  'Liverpool': 'United Kingdom',
  'Edinburgh': 'United Kingdom',
  'Bristol': 'United Kingdom',
  'Leeds': 'United Kingdom',
  
  // Other Major Cities
  'Paris': 'France',
  'Berlin': 'Germany',
  'Madrid': 'Spain',
  'Rome': 'Italy',
  'Amsterdam': 'Netherlands',
  'Brussels': 'Belgium',
  'Vienna': 'Austria',
  'Stockholm': 'Sweden',
  'Copenhagen': 'Denmark',
  'Oslo': 'Norway',
  'Dublin': 'Ireland',
  'Warsaw': 'Poland',
  'Lisbon': 'Portugal',
  'Athens': 'Greece',
  'Prague': 'Czech Republic',
  'Budapest': 'Hungary',
  'Bucharest': 'Romania',
  
  // Asian Cities
  'Tokyo': 'Japan',
  'Delhi': 'India',
  'Shanghai': 'China',
  'Beijing': 'China',
  'Mumbai': 'India',
  'Istanbul': 'Turkey',
  'Karachi': 'Pakistan',
  'Dhaka': 'Bangladesh',
  'Bangkok': 'Thailand',
  'Seoul': 'South Korea',
  'Jakarta': 'Indonesia',
  'Manila': 'Philippines',
  'Singapore': 'Singapore',
  'Hong Kong': 'Hong Kong',
  'Taipei': 'Taiwan',
  'Kuala Lumpur': 'Malaysia',
  'Dubai': 'United Arab Emirates',
  'Tel Aviv': 'Israel',
  
  // Australian Cities
  'Sydney': 'Australia',
  'Melbourne': 'Australia',
  'Brisbane': 'Australia',
  'Perth': 'Australia',
  'Adelaide': 'Australia',
  'Auckland': 'New Zealand',
  'Wellington': 'New Zealand',
  
  // South American Cities
  'São Paulo': 'Brazil',
  'Rio de Janeiro': 'Brazil',
  'Buenos Aires': 'Argentina',
  'Lima': 'Peru',
  'Bogotá': 'Colombia',
  'Santiago': 'Chile',
  'Caracas': 'Venezuela',
  'Quito': 'Ecuador',
  'Montevideo': 'Uruguay',
  
  // African Cities
  'Cairo': 'Egypt',
  'Lagos': 'Nigeria',
  'Johannesburg': 'South Africa',
  'Cape Town': 'South Africa',
  'Nairobi': 'Kenya',
  'Casablanca': 'Morocco',
  'Accra': 'Ghana',
  'Addis Ababa': 'Ethiopia',
  'Dar es Salaam': 'Tanzania',
  'Luanda': 'Angola',
};

// State/Province to Country mapping
export const stateToCountry: Record<string, string> = {
  // US States
  'Alabama': 'United States',
  'Alaska': 'United States',
  'Arizona': 'United States',
  'Arkansas': 'United States',
  'California': 'United States',
  'Colorado': 'United States',
  'Connecticut': 'United States',
  'Delaware': 'United States',
  'Florida': 'United States',
  'Georgia': 'United States',
  'Hawaii': 'United States',
  'Idaho': 'United States',
  'Illinois': 'United States',
  'Indiana': 'United States',
  'Iowa': 'United States',
  'Kansas': 'United States',
  'Kentucky': 'United States',
  'Louisiana': 'United States',
  'Maine': 'United States',
  'Maryland': 'United States',
  'Massachusetts': 'United States',
  'Michigan': 'United States',
  'Minnesota': 'United States',
  'Mississippi': 'United States',
  'Missouri': 'United States',
  'Montana': 'United States',
  'Nebraska': 'United States',
  'Nevada': 'United States',
  'New Hampshire': 'United States',
  'New Jersey': 'United States',
  'New Mexico': 'United States',
  'New York': 'United States',
  'North Carolina': 'United States',
  'North Dakota': 'United States',
  'Ohio': 'United States',
  'Oklahoma': 'United States',
  'Oregon': 'United States',
  'Pennsylvania': 'United States',
  'Rhode Island': 'United States',
  'South Carolina': 'United States',
  'South Dakota': 'United States',
  'Tennessee': 'United States',
  'Texas': 'United States',
  'Utah': 'United States',
  'Vermont': 'United States',
  'Virginia': 'United States',
  'Washington': 'United States',
  'West Virginia': 'United States',
  'Wisconsin': 'United States',
  'Wyoming': 'United States',
  'DC': 'United States',
  'District of Columbia': 'United States',
  
  // US State Abbreviations
  'AL': 'United States',
  'AK': 'United States',
  'AZ': 'United States',
  'AR': 'United States',
  'CA': 'United States',
  'CO': 'United States',
  'CT': 'United States',
  'DE': 'United States',
  'FL': 'United States',
  'GA': 'United States',
  'HI': 'United States',
  'ID': 'United States',
  'IL': 'United States',
  'IN': 'United States',
  'IA': 'United States',
  'KS': 'United States',
  'KY': 'United States',
  'LA': 'United States',
  'ME': 'United States',
  'MD': 'United States',
  'MA': 'United States',
  'MI': 'United States',
  'MN': 'United States',
  'MS': 'United States',
  'MO': 'United States',
  'MT': 'United States',
  'NE': 'United States',
  'NV': 'United States',
  'NH': 'United States',
  'NJ': 'United States',
  'NM': 'United States',
  'NY': 'United States',
  'NC': 'United States',
  'ND': 'United States',
  'OH': 'United States',
  'OK': 'United States',
  'OR': 'United States',
  'PA': 'United States',
  'RI': 'United States',
  'SC': 'United States',
  'SD': 'United States',
  'TN': 'United States',
  'TX': 'United States',
  'UT': 'United States',
  'VT': 'United States',
  'VA': 'United States',
  'WA': 'United States',
  'WV': 'United States',
  'WI': 'United States',
  'WY': 'United States',
  
  // Canadian Provinces
  'Ontario': 'Canada',
  'Quebec': 'Canada',
  'British Columbia': 'Canada',
  'Alberta': 'Canada',
  'Manitoba': 'Canada',
  'Saskatchewan': 'Canada',
  'Nova Scotia': 'Canada',
  'New Brunswick': 'Canada',
  'Newfoundland and Labrador': 'Canada',
  'Prince Edward Island': 'Canada',
  'Northwest Territories': 'Canada',
  'Yukon': 'Canada',
  'Nunavut': 'Canada',
  'ON': 'Canada',
  'QC': 'Canada',
  'BC': 'Canada',
  'AB': 'Canada',
  'MB': 'Canada',
  'SK': 'Canada',
  'NS': 'Canada',
  'NB': 'Canada',
  'NL': 'Canada',
  'PE': 'Canada',
  'NT': 'Canada',
  'YT': 'Canada',
  'NU': 'Canada',
};

/**
 * Enhanced function to extract country from location string
 * Handles various formats like:
 * - "City, State, Country"
 * - "City, Country"
 * - "State, Country"
 * - "Country"
 * - Just city names (using city lookup)
 * - Just state/province names
 */
export function getCountryFromLocation(location: string | null | undefined): string | null {
  if (!location || location.trim() === '') return null;
  
  const trimmedLocation = location.trim();
  
  // Check if the entire string is a country
  for (const [country, continent] of Object.entries(countryToContinent)) {
    if (trimmedLocation.toLowerCase() === country.toLowerCase()) {
      return country;
    }
  }
  
  // Check if it's a known city
  for (const [city, country] of Object.entries(cityToCountry)) {
    if (trimmedLocation.toLowerCase() === city.toLowerCase()) {
      return country;
    }
  }
  
  // Check if it's a known state/province
  for (const [state, country] of Object.entries(stateToCountry)) {
    if (trimmedLocation.toLowerCase() === state.toLowerCase()) {
      return country;
    }
  }
  
  // Split by comma and check each part
  const parts = trimmedLocation.split(',').map(part => part.trim());
  
  // Check from right to left (usually country is last)
  for (let i = parts.length - 1; i >= 0; i--) {
    const part = parts[i];
    
    // Check if this part is a country
    for (const [country, continent] of Object.entries(countryToContinent)) {
      if (part.toLowerCase() === country.toLowerCase()) {
        return country;
      }
    }
    
    // Check if this part is a state that maps to a country
    for (const [state, country] of Object.entries(stateToCountry)) {
      if (part.toLowerCase() === state.toLowerCase()) {
        return country;
      }
    }
  }
  
  // Check if any part is a known city
  for (const part of parts) {
    for (const [city, country] of Object.entries(cityToCountry)) {
      if (part.toLowerCase() === city.toLowerCase()) {
        return country;
      }
    }
  }
  
  // Special handling for common patterns
  // Check for "City, ST" format (US cities)
  if (parts.length === 2 && parts[1].length === 2) {
    const stateAbbr = parts[1].toUpperCase();
    if (stateToCountry[stateAbbr]) {
      return stateToCountry[stateAbbr];
    }
  }
  
  return null;
}

/**
 * Get continent for a given country
 */
export function getContinentForCountry(country: string | null | undefined): string | null {
  if (!country) return null;
  
  // Direct lookup
  if (countryToContinent[country]) {
    return countryToContinent[country];
  }
  
  // Case-insensitive lookup
  for (const [mappedCountry, continent] of Object.entries(countryToContinent)) {
    if (mappedCountry.toLowerCase() === country.toLowerCase()) {
      return continent;
    }
  }
  
  return null;
}

/**
 * Get continent from location string
 */
export function getContinentFromLocation(location: string | null | undefined): string | null {
  const country = getCountryFromLocation(location);
  return getContinentForCountry(country);
}

/**
 * Comprehensive country flag mapping
 */
export const countryFlags: Record<string, string> = {
  // North America
  'United States': '🇺🇸',
  'USA': '🇺🇸',
  'US': '🇺🇸',
  'Canada': '🇨🇦',
  'Mexico': '🇲🇽',
  'Guatemala': '🇬🇹',
  'Cuba': '🇨🇺',
  'Haiti': '🇭🇹',
  'Dominican Republic': '🇩🇴',
  'Honduras': '🇭🇳',
  'Nicaragua': '🇳🇮',
  'El Salvador': '🇸🇻',
  'Costa Rica': '🇨🇷',
  'Panama': '🇵🇦',
  'Jamaica': '🇯🇲',
  'Trinidad and Tobago': '🇹🇹',
  'Barbados': '🇧🇧',
  'Bahamas': '🇧🇸',
  'Belize': '🇧🇿',
  
  // South America
  'Brazil': '🇧🇷',
  'Argentina': '🇦🇷',
  'Colombia': '🇨🇴',
  'Peru': '🇵🇪',
  'Venezuela': '🇻🇪',
  'Chile': '🇨🇱',
  'Ecuador': '🇪🇨',
  'Bolivia': '🇧🇴',
  'Paraguay': '🇵🇾',
  'Uruguay': '🇺🇾',
  'Guyana': '🇬🇾',
  'Suriname': '🇸🇷',
  
  // Europe
  'United Kingdom': '🇬🇧',
  'UK': '🇬🇧',
  'England': '🏴󠁧󠁢󠁥󠁮󠁧󠁿',
  'Scotland': '🏴󠁧󠁢󠁳󠁣󠁴󠁿',
  'Wales': '🏴󠁧󠁢󠁷󠁬󠁳󠁿',
  'France': '🇫🇷',
  'Germany': '🇩🇪',
  'Italy': '🇮🇹',
  'Spain': '🇪🇸',
  'Poland': '🇵🇱',
  'Romania': '🇷🇴',
  'Netherlands': '🇳🇱',
  'Belgium': '🇧🇪',
  'Czech Republic': '🇨🇿',
  'Czechia': '🇨🇿',
  'Greece': '🇬🇷',
  'Portugal': '🇵🇹',
  'Sweden': '🇸🇪',
  'Hungary': '🇭🇺',
  'Austria': '🇦🇹',
  'Belarus': '🇧🇾',
  'Switzerland': '🇨🇭',
  'Bulgaria': '🇧🇬',
  'Serbia': '🇷🇸',
  'Denmark': '🇩🇰',
  'Finland': '🇫🇮',
  'Slovakia': '🇸🇰',
  'Norway': '🇳🇴',
  'Ireland': '🇮🇪',
  'Croatia': '🇭🇷',
  'Bosnia and Herzegovina': '🇧🇦',
  'Albania': '🇦🇱',
  'Lithuania': '🇱🇹',
  'Slovenia': '🇸🇮',
  'Latvia': '🇱🇻',
  'Estonia': '🇪🇪',
  'Macedonia': '🇲🇰',
  'Moldova': '🇲🇩',
  'Malta': '🇲🇹',
  'Iceland': '🇮🇸',
  'Luxembourg': '🇱🇺',
  'Montenegro': '🇲🇪',
  'Russia': '🇷🇺',
  'Ukraine': '🇺🇦',
  
  // Asia
  'China': '🇨🇳',
  'India': '🇮🇳',
  'Indonesia': '🇮🇩',
  'Pakistan': '🇵🇰',
  'Bangladesh': '🇧🇩',
  'Japan': '🇯🇵',
  'Philippines': '🇵🇭',
  'Vietnam': '🇻🇳',
  'Turkey': '🇹🇷',
  'Iran': '🇮🇷',
  'Thailand': '🇹🇭',
  'Myanmar': '🇲🇲',
  'South Korea': '🇰🇷',
  'Iraq': '🇮🇶',
  'Afghanistan': '🇦🇫',
  'Saudi Arabia': '🇸🇦',
  'Malaysia': '🇲🇾',
  'Nepal': '🇳🇵',
  'Yemen': '🇾🇪',
  'North Korea': '🇰🇵',
  'Syria': '🇸🇾',
  'Sri Lanka': '🇱🇰',
  'Cambodia': '🇰🇭',
  'Jordan': '🇯🇴',
  'Azerbaijan': '🇦🇿',
  'United Arab Emirates': '🇦🇪',
  'UAE': '🇦🇪',
  'Israel': '🇮🇱',
  'Hong Kong': '🇭🇰',
  'Laos': '🇱🇦',
  'Singapore': '🇸🇬',
  'Lebanon': '🇱🇧',
  'Palestine': '🇵🇸',
  'Oman': '🇴🇲',
  'Kuwait': '🇰🇼',
  'Georgia': '🇬🇪',
  'Mongolia': '🇲🇳',
  'Armenia': '🇦🇲',
  'Qatar': '🇶🇦',
  'Bahrain': '🇧🇭',
  'Taiwan': '🇹🇼',
  'Kazakhstan': '🇰🇿',
  'Uzbekistan': '🇺🇿',
  'Kyrgyzstan': '🇰🇬',
  'Tajikistan': '🇹🇯',
  'Turkmenistan': '🇹🇲',
  'Bhutan': '🇧🇹',
  'Maldives': '🇲🇻',
  'Brunei': '🇧🇳',
  
  // Africa
  'Nigeria': '🇳🇬',
  'Ethiopia': '🇪🇹',
  'Egypt': '🇪🇬',
  'South Africa': '🇿🇦',
  'Tanzania': '🇹🇿',
  'Kenya': '🇰🇪',
  'Uganda': '🇺🇬',
  'Algeria': '🇩🇿',
  'Sudan': '🇸🇩',
  'Morocco': '🇲🇦',
  'Angola': '🇦🇴',
  'Ghana': '🇬🇭',
  'Mozambique': '🇲🇿',
  'Madagascar': '🇲🇬',
  'Cameroon': '🇨🇲',
  'Ivory Coast': '🇨🇮',
  'Niger': '🇳🇪',
  'Burkina Faso': '🇧🇫',
  'Mali': '🇲🇱',
  'Malawi': '🇲🇼',
  'Zambia': '🇿🇲',
  'Senegal': '🇸🇳',
  'Somalia': '🇸🇴',
  'Chad': '🇹🇩',
  'Zimbabwe': '🇿🇼',
  'Guinea': '🇬🇳',
  'Rwanda': '🇷🇼',
  'Benin': '🇧🇯',
  'Tunisia': '🇹🇳',
  'Burundi': '🇧🇮',
  'South Sudan': '🇸🇸',
  'Togo': '🇹🇬',
  'Sierra Leone': '🇸🇱',
  'Libya': '🇱🇾',
  'Liberia': '🇱🇷',
  'Mauritania': '🇲🇷',
  'Eritrea': '🇪🇷',
  'Gambia': '🇬🇲',
  'Botswana': '🇧🇼',
  'Namibia': '🇳🇦',
  'Gabon': '🇬🇦',
  'Lesotho': '🇱🇸',
  'Guinea-Bissau': '🇬🇼',
  'Equatorial Guinea': '🇬🇶',
  'Mauritius': '🇲🇺',
  'Eswatini': '🇸🇿',
  'Djibouti': '🇩🇯',
  'Comoros': '🇰🇲',
  'Cape Verde': '🇨🇻',
  'Seychelles': '🇸🇨',
  
  // Oceania
  'Australia': '🇦🇺',
  'Papua New Guinea': '🇵🇬',
  'New Zealand': '🇳🇿',
  'Fiji': '🇫🇯',
  'Solomon Islands': '🇸🇧',
  'Vanuatu': '🇻🇺',
  'Samoa': '🇼🇸',
  'Micronesia': '🇫🇲',
  'Tonga': '🇹🇴',
  'Kiribati': '🇰🇮',
  'Palau': '🇵🇼',
  'Marshall Islands': '🇲🇭',
  'Tuvalu': '🇹🇻',
  'Nauru': '🇳🇷',
};

/**
 * Get flag emoji for a country
 */
export function getCountryFlag(country: string | null | undefined): string {
  if (!country) return '🌍';
  
  // Direct lookup
  if (countryFlags[country]) {
    return countryFlags[country];
  }
  
  // Case-insensitive lookup
  for (const [mappedCountry, flag] of Object.entries(countryFlags)) {
    if (mappedCountry.toLowerCase() === country.toLowerCase()) {
      return flag;
    }
  }
  
  // Return default world emoji
  return '🌍';
}