// Comprehensive country and continent mapping data

export const countryToContinent: Record<string, string> = {
  // North America
  'United States': 'North America',
  'USA': 'North America',
  'US': 'North America',
  'Canada': 'North America',
  'Mexico': 'North America',
  'Guatemala': 'North America',
  'Cuba': 'North America',
  'Haiti': 'North America',
  'Dominican Republic': 'North America',
  'Honduras': 'North America',
  'Nicaragua': 'North America',
  'El Salvador': 'North America',
  'Costa Rica': 'North America',
  'Panama': 'North America',
  'Jamaica': 'North America',
  'Trinidad and Tobago': 'North America',
  'Barbados': 'North America',
  'Bahamas': 'North America',
  'Belize': 'North America',
  
  // South America
  'Brazil': 'South America',
  'Argentina': 'South America',
  'Colombia': 'South America',
  'Peru': 'South America',
  'Venezuela': 'South America',
  'Chile': 'South America',
  'Ecuador': 'South America',
  'Bolivia': 'South America',
  'Paraguay': 'South America',
  'Uruguay': 'South America',
  'Guyana': 'South America',
  'Suriname': 'South America',
  'French Guiana': 'South America',
  
  // Europe
  'United Kingdom': 'Europe',
  'UK': 'Europe',
  'England': 'Europe',
  'Scotland': 'Europe',
  'Wales': 'Europe',
  'Northern Ireland': 'Europe',
  'France': 'Europe',
  'Germany': 'Europe',
  'Italy': 'Europe',
  'Spain': 'Europe',
  'Poland': 'Europe',
  'Romania': 'Europe',
  'Netherlands': 'Europe',
  'Belgium': 'Europe',
  'Czech Republic': 'Europe',
  'Czechia': 'Europe',
  'Greece': 'Europe',
  'Portugal': 'Europe',
  'Sweden': 'Europe',
  'Hungary': 'Europe',
  'Austria': 'Europe',
  'Belarus': 'Europe',
  'Switzerland': 'Europe',
  'Bulgaria': 'Europe',
  'Serbia': 'Europe',
  'Denmark': 'Europe',
  'Finland': 'Europe',
  'Slovakia': 'Europe',
  'Norway': 'Europe',
  'Ireland': 'Europe',
  'Croatia': 'Europe',
  'Bosnia and Herzegovina': 'Europe',
  'Albania': 'Europe',
  'Lithuania': 'Europe',
  'Slovenia': 'Europe',
  'Latvia': 'Europe',
  'Estonia': 'Europe',
  'Macedonia': 'Europe',
  'Moldova': 'Europe',
  'Malta': 'Europe',
  'Iceland': 'Europe',
  'Luxembourg': 'Europe',
  'Montenegro': 'Europe',
  'Russia': 'Europe', // Primarily European
  
  // Asia
  'China': 'Asia',
  'India': 'Asia',
  'Indonesia': 'Asia',
  'Pakistan': 'Asia',
  'Bangladesh': 'Asia',
  'Japan': 'Asia',
  'Philippines': 'Asia',
  'Vietnam': 'Asia',
  'Turkey': 'Asia',
  'Iran': 'Asia',
  'Thailand': 'Asia',
  'Myanmar': 'Asia',
  'South Korea': 'Asia',
  'Iraq': 'Asia',
  'Afghanistan': 'Asia',
  'Saudi Arabia': 'Asia',
  'Uzbekistan': 'Asia',
  'Malaysia': 'Asia',
  'Nepal': 'Asia',
  'Yemen': 'Asia',
  'North Korea': 'Asia',
  'Syria': 'Asia',
  'Sri Lanka': 'Asia',
  'Cambodia': 'Asia',
  'Jordan': 'Asia',
  'Azerbaijan': 'Asia',
  'United Arab Emirates': 'Asia',
  'UAE': 'Asia',
  'Tajikistan': 'Asia',
  'Israel': 'Asia',
  'Hong Kong': 'Asia',
  'Laos': 'Asia',
  'Singapore': 'Asia',
  'Lebanon': 'Asia',
  'Kyrgyzstan': 'Asia',
  'Turkmenistan': 'Asia',
  'Palestine': 'Asia',
  'Oman': 'Asia',
  'Kuwait': 'Asia',
  'Georgia': 'Asia',
  'Mongolia': 'Asia',
  'Armenia': 'Asia',
  'Qatar': 'Asia',
  'Bahrain': 'Asia',
  'East Timor': 'Asia',
  'Cyprus': 'Asia',
  'Bhutan': 'Asia',
  'Maldives': 'Asia',
  'Brunei': 'Asia',
  'Taiwan': 'Asia',
  'Kazakhstan': 'Asia',
  
  // Africa
  'Nigeria': 'Africa',
  'Ethiopia': 'Africa',
  'Egypt': 'Africa',
  'Democratic Republic of the Congo': 'Africa',
  'DRC': 'Africa',
  'Congo': 'Africa',
  'South Africa': 'Africa',
  'Tanzania': 'Africa',
  'Kenya': 'Africa',
  'Uganda': 'Africa',
  'Algeria': 'Africa',
  'Sudan': 'Africa',
  'Morocco': 'Africa',
  'Angola': 'Africa',
  'Ghana': 'Africa',
  'Mozambique': 'Africa',
  'Madagascar': 'Africa',
  'Cameroon': 'Africa',
  'Ivory Coast': 'Africa',
  'Niger': 'Africa',
  'Burkina Faso': 'Africa',
  'Mali': 'Africa',
  'Malawi': 'Africa',
  'Zambia': 'Africa',
  'Senegal': 'Africa',
  'Somalia': 'Africa',
  'Chad': 'Africa',
  'Zimbabwe': 'Africa',
  'Guinea': 'Africa',
  'Rwanda': 'Africa',
  'Benin': 'Africa',
  'Tunisia': 'Africa',
  'Burundi': 'Africa',
  'South Sudan': 'Africa',
  'Togo': 'Africa',
  'Sierra Leone': 'Africa',
  'Libya': 'Africa',
  'Liberia': 'Africa',
  'Mauritania': 'Africa',
  'Eritrea': 'Africa',
  'Gambia': 'Africa',
  'Botswana': 'Africa',
  'Namibia': 'Africa',
  'Gabon': 'Africa',
  'Lesotho': 'Africa',
  'Guinea-Bissau': 'Africa',
  'Equatorial Guinea': 'Africa',
  'Mauritius': 'Africa',
  'Eswatini': 'Africa',
  'Djibouti': 'Africa',
  'Comoros': 'Africa',
  'Cape Verde': 'Africa',
  'Sao Tome and Principe': 'Africa',
  'Seychelles': 'Africa',
  
  // Oceania
  'Australia': 'Oceania',
  'Papua New Guinea': 'Oceania',
  'New Zealand': 'Oceania',
  'Fiji': 'Oceania',
  'Solomon Islands': 'Oceania',
  'Vanuatu': 'Oceania',
  'Samoa': 'Oceania',
  'Micronesia': 'Oceania',
  'Tonga': 'Oceania',
  'Kiribati': 'Oceania',
  'Palau': 'Oceania',
  'Marshall Islands': 'Oceania',
  'Tuvalu': 'Oceania',
  'Nauru': 'Oceania',
};

// Common city to country mapping for better detection
export const cityToCountry: Record<string, string> = {
  // USA Cities
  'New York': 'United States',
  'Los Angeles': 'United States',
  'Chicago': 'United States',
  'Houston': 'United States',
  'Phoenix': 'United States',
  'Philadelphia': 'United States',
  'San Antonio': 'United States',
  'San Diego': 'United States',
  'Dallas': 'United States',
  'San Jose': 'United States',
  'Austin': 'United States',
  'Boston': 'United States',
  'Seattle': 'United States',
  'Denver': 'United States',
  'San Francisco': 'United States',
  'Washington': 'United States',
  'Miami': 'United States',
  'Atlanta': 'United States',
  'Las Vegas': 'United States',
  'Portland': 'United States',
  
  // Canada Cities
  'Toronto': 'Canada',
  'Montreal': 'Canada',
  'Vancouver': 'Canada',
  'Calgary': 'Canada',
  'Edmonton': 'Canada',
  'Ottawa': 'Canada',
  'Winnipeg': 'Canada',
  'Quebec City': 'Canada',
  
  // UK Cities
  'London': 'United Kingdom',
  'Birmingham': 'United Kingdom',
  'Manchester': 'United Kingdom',
  'Glasgow': 'United Kingdom',
  'Liverpool': 'United Kingdom',
  'Edinburgh': 'United Kingdom',
  'Bristol': 'United Kingdom',
  'Leeds': 'United Kingdom',
  
  // Other Major Cities
  'Paris': 'France',
  'Berlin': 'Germany',
  'Madrid': 'Spain',
  'Rome': 'Italy',
  'Amsterdam': 'Netherlands',
  'Brussels': 'Belgium',
  'Vienna': 'Austria',
  'Stockholm': 'Sweden',
  'Copenhagen': 'Denmark',
  'Oslo': 'Norway',
  'Dublin': 'Ireland',
  'Warsaw': 'Poland',
  'Lisbon': 'Portugal',
  'Athens': 'Greece',
  'Prague': 'Czech Republic',
  'Budapest': 'Hungary',
  'Bucharest': 'Romania',
  
  // Asian Cities
  'Tokyo': 'Japan',
  'Delhi': 'India',
  'Shanghai': 'China',
  'Beijing': 'China',
  'Mumbai': 'India',
  'Istanbul': 'Turkey',
  'Karachi': 'Pakistan',
  'Dhaka': 'Bangladesh',
  'Bangkok': 'Thailand',
  'Seoul': 'South Korea',
  'Jakarta': 'Indonesia',
  'Manila': 'Philippines',
  'Singapore': 'Singapore',
  'Hong Kong': 'Hong Kong',
  'Taipei': 'Taiwan',
  'Kuala Lumpur': 'Malaysia',
  'Dubai': 'United Arab Emirates',
  'Tel Aviv': 'Israel',
  
  // Australian Cities
  'Sydney': 'Australia',
  'Melbourne': 'Australia',
  'Brisbane': 'Australia',
  'Perth': 'Australia',
  'Adelaide': 'Australia',
  'Auckland': 'New Zealand',
  'Wellington': 'New Zealand',
  
  // South American Cities
  'SÃ£o Paulo': 'Brazil',
  'Rio de Janeiro': 'Brazil',
  'Buenos Aires': 'Argentina',
  'Lima': 'Peru',
  'BogotÃ¡': 'Colombia',
  'Santiago': 'Chile',
  'Caracas': 'Venezuela',
  'Quito': 'Ecuador',
  'Montevideo': 'Uruguay',
  
  // African Cities
  'Cairo': 'Egypt',
  'Lagos': 'Nigeria',
  'Johannesburg': 'South Africa',
  'Cape Town': 'South Africa',
  'Nairobi': 'Kenya',
  'Casablanca': 'Morocco',
  'Accra': 'Ghana',
  'Addis Ababa': 'Ethiopia',
  'Dar es Salaam': 'Tanzania',
  'Luanda': 'Angola',
};

// State/Province to Country mapping
export const stateToCountry: Record<string, string> = {
  // US States
  'Alabama': 'United States',
  'Alaska': 'United States',
  'Arizona': 'United States',
  'Arkansas': 'United States',
  'California': 'United States',
  'Colorado': 'United States',
  'Connecticut': 'United States',
  'Delaware': 'United States',
  'Florida': 'United States',
  'Georgia': 'United States',
  'Hawaii': 'United States',
  'Idaho': 'United States',
  'Illinois': 'United States',
  'Indiana': 'United States',
  'Iowa': 'United States',
  'Kansas': 'United States',
  'Kentucky': 'United States',
  'Louisiana': 'United States',
  'Maine': 'United States',
  'Maryland': 'United States',
  'Massachusetts': 'United States',
  'Michigan': 'United States',
  'Minnesota': 'United States',
  'Mississippi': 'United States',
  'Missouri': 'United States',
  'Montana': 'United States',
  'Nebraska': 'United States',
  'Nevada': 'United States',
  'New Hampshire': 'United States',
  'New Jersey': 'United States',
  'New Mexico': 'United States',
  'New York': 'United States',
  'North Carolina': 'United States',
  'North Dakota': 'United States',
  'Ohio': 'United States',
  'Oklahoma': 'United States',
  'Oregon': 'United States',
  'Pennsylvania': 'United States',
  'Rhode Island': 'United States',
  'South Carolina': 'United States',
  'South Dakota': 'United States',
  'Tennessee': 'United States',
  'Texas': 'United States',
  'Utah': 'United States',
  'Vermont': 'United States',
  'Virginia': 'United States',
  'Washington': 'United States',
  'West Virginia': 'United States',
  'Wisconsin': 'United States',
  'Wyoming': 'United States',
  'DC': 'United States',
  'District of Columbia': 'United States',
  
  // US State Abbreviations
  'AL': 'United States',
  'AK': 'United States',
  'AZ': 'United States',
  'AR': 'United States',
  'CA': 'United States',
  'CO': 'United States',
  'CT': 'United States',
  'DE': 'United States',
  'FL': 'United States',
  'GA': 'United States',
  'HI': 'United States',
  'ID': 'United States',
  'IL': 'United States',
  'IN': 'United States',
  'IA': 'United States',
  'KS': 'United States',
  'KY': 'United States',
  'LA': 'United States',
  'ME': 'United States',
  'MD': 'United States',
  'MA': 'United States',
  'MI': 'United States',
  'MN': 'United States',
  'MS': 'United States',
  'MO': 'United States',
  'MT': 'United States',
  'NE': 'United States',
  'NV': 'United States',
  'NH': 'United States',
  'NJ': 'United States',
  'NM': 'United States',
  'NY': 'United States',
  'NC': 'United States',
  'ND': 'United States',
  'OH': 'United States',
  'OK': 'United States',
  'OR': 'United States',
  'PA': 'United States',
  'RI': 'United States',
  'SC': 'United States',
  'SD': 'United States',
  'TN': 'United States',
  'TX': 'United States',
  'UT': 'United States',
  'VT': 'United States',
  'VA': 'United States',
  'WA': 'United States',
  'WV': 'United States',
  'WI': 'United States',
  'WY': 'United States',
  
  // Canadian Provinces
  'Ontario': 'Canada',
  'Quebec': 'Canada',
  'British Columbia': 'Canada',
  'Alberta': 'Canada',
  'Manitoba': 'Canada',
  'Saskatchewan': 'Canada',
  'Nova Scotia': 'Canada',
  'New Brunswick': 'Canada',
  'Newfoundland and Labrador': 'Canada',
  'Prince Edward Island': 'Canada',
  'Northwest Territories': 'Canada',
  'Yukon': 'Canada',
  'Nunavut': 'Canada',
  'ON': 'Canada',
  'QC': 'Canada',
  'BC': 'Canada',
  'AB': 'Canada',
  'MB': 'Canada',
  'SK': 'Canada',
  'NS': 'Canada',
  'NB': 'Canada',
  'NL': 'Canada',
  'PE': 'Canada',
  'NT': 'Canada',
  'YT': 'Canada',
  'NU': 'Canada',
};

/**
 * Enhanced function to extract country from location string
 * Handles various formats like:
 * - "City, State, Country"
 * - "City, Country"
 * - "State, Country"
 * - "Country"
 * - Just city names (using city lookup)
 * - Just state/province names
 */
export function getCountryFromLocation(location: string | null | undefined): string | null {
  if (!location || location.trim() === '') return null;
  
  const trimmedLocation = location.trim();
  
  // Check if the entire string is a country
  for (const [country, continent] of Object.entries(countryToContinent)) {
    if (trimmedLocation.toLowerCase() === country.toLowerCase()) {
      return country;
    }
  }
  
  // Check if it's a known city
  for (const [city, country] of Object.entries(cityToCountry)) {
    if (trimmedLocation.toLowerCase() === city.toLowerCase()) {
      return country;
    }
  }
  
  // Check if it's a known state/province
  for (const [state, country] of Object.entries(stateToCountry)) {
    if (trimmedLocation.toLowerCase() === state.toLowerCase()) {
      return country;
    }
  }
  
  // Split by comma and check each part
  const parts = trimmedLocation.split(',').map(part => part.trim());
  
  // Check from right to left (usually country is last)
  for (let i = parts.length - 1; i >= 0; i--) {
    const part = parts[i];
    
    // Check if this part is a country
    for (const [country, continent] of Object.entries(countryToContinent)) {
      if (part.toLowerCase() === country.toLowerCase()) {
        return country;
      }
    }
    
    // Check if this part is a state that maps to a country
    for (const [state, country] of Object.entries(stateToCountry)) {
      if (part.toLowerCase() === state.toLowerCase()) {
        return country;
      }
    }
  }
  
  // Check if any part is a known city
  for (const part of parts) {
    for (const [city, country] of Object.entries(cityToCountry)) {
      if (part.toLowerCase() === city.toLowerCase()) {
        return country;
      }
    }
  }
  
  // Special handling for common patterns
  // Check for "City, ST" format (US cities)
  if (parts.length === 2 && parts[1].length === 2) {
    const stateAbbr = parts[1].toUpperCase();
    if (stateToCountry[stateAbbr]) {
      return stateToCountry[stateAbbr];
    }
  }
  
  return null;
}

/**
 * Get continent for a given country
 */
export function getContinentForCountry(country: string | null | undefined): string | null {
  if (!country) return null;
  
  // Direct lookup
  if (countryToContinent[country]) {
    return countryToContinent[country];
  }
  
  // Case-insensitive lookup
  for (const [mappedCountry, continent] of Object.entries(countryToContinent)) {
    if (mappedCountry.toLowerCase() === country.toLowerCase()) {
      return continent;
    }
  }
  
  return null;
}

/**
 * Get continent from location string
 */
export function getContinentFromLocation(location: string | null | undefined): string | null {
  const country = getCountryFromLocation(location);
  return getContinentForCountry(country);
}

/**
 * Comprehensive country flag mapping
 */
export const countryFlags: Record<string, string> = {
  // North America
  'United States': 'ğŸ‡ºğŸ‡¸',
  'USA': 'ğŸ‡ºğŸ‡¸',
  'US': 'ğŸ‡ºğŸ‡¸',
  'Canada': 'ğŸ‡¨ğŸ‡¦',
  'Mexico': 'ğŸ‡²ğŸ‡½',
  'Guatemala': 'ğŸ‡¬ğŸ‡¹',
  'Cuba': 'ğŸ‡¨ğŸ‡º',
  'Haiti': 'ğŸ‡­ğŸ‡¹',
  'Dominican Republic': 'ğŸ‡©ğŸ‡´',
  'Honduras': 'ğŸ‡­ğŸ‡³',
  'Nicaragua': 'ğŸ‡³ğŸ‡®',
  'El Salvador': 'ğŸ‡¸ğŸ‡»',
  'Costa Rica': 'ğŸ‡¨ğŸ‡·',
  'Panama': 'ğŸ‡µğŸ‡¦',
  'Jamaica': 'ğŸ‡¯ğŸ‡²',
  'Trinidad and Tobago': 'ğŸ‡¹ğŸ‡¹',
  'Barbados': 'ğŸ‡§ğŸ‡§',
  'Bahamas': 'ğŸ‡§ğŸ‡¸',
  'Belize': 'ğŸ‡§ğŸ‡¿',
  
  // South America
  'Brazil': 'ğŸ‡§ğŸ‡·',
  'Argentina': 'ğŸ‡¦ğŸ‡·',
  'Colombia': 'ğŸ‡¨ğŸ‡´',
  'Peru': 'ğŸ‡µğŸ‡ª',
  'Venezuela': 'ğŸ‡»ğŸ‡ª',
  'Chile': 'ğŸ‡¨ğŸ‡±',
  'Ecuador': 'ğŸ‡ªğŸ‡¨',
  'Bolivia': 'ğŸ‡§ğŸ‡´',
  'Paraguay': 'ğŸ‡µğŸ‡¾',
  'Uruguay': 'ğŸ‡ºğŸ‡¾',
  'Guyana': 'ğŸ‡¬ğŸ‡¾',
  'Suriname': 'ğŸ‡¸ğŸ‡·',
  
  // Europe
  'United Kingdom': 'ğŸ‡¬ğŸ‡§',
  'UK': 'ğŸ‡¬ğŸ‡§',
  'England': 'ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿',
  'Scotland': 'ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿',
  'Wales': 'ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿',
  'France': 'ğŸ‡«ğŸ‡·',
  'Germany': 'ğŸ‡©ğŸ‡ª',
  'Italy': 'ğŸ‡®ğŸ‡¹',
  'Spain': 'ğŸ‡ªğŸ‡¸',
  'Poland': 'ğŸ‡µğŸ‡±',
  'Romania': 'ğŸ‡·ğŸ‡´',
  'Netherlands': 'ğŸ‡³ğŸ‡±',
  'Belgium': 'ğŸ‡§ğŸ‡ª',
  'Czech Republic': 'ğŸ‡¨ğŸ‡¿',
  'Czechia': 'ğŸ‡¨ğŸ‡¿',
  'Greece': 'ğŸ‡¬ğŸ‡·',
  'Portugal': 'ğŸ‡µğŸ‡¹',
  'Sweden': 'ğŸ‡¸ğŸ‡ª',
  'Hungary': 'ğŸ‡­ğŸ‡º',
  'Austria': 'ğŸ‡¦ğŸ‡¹',
  'Belarus': 'ğŸ‡§ğŸ‡¾',
  'Switzerland': 'ğŸ‡¨ğŸ‡­',
  'Bulgaria': 'ğŸ‡§ğŸ‡¬',
  'Serbia': 'ğŸ‡·ğŸ‡¸',
  'Denmark': 'ğŸ‡©ğŸ‡°',
  'Finland': 'ğŸ‡«ğŸ‡®',
  'Slovakia': 'ğŸ‡¸ğŸ‡°',
  'Norway': 'ğŸ‡³ğŸ‡´',
  'Ireland': 'ğŸ‡®ğŸ‡ª',
  'Croatia': 'ğŸ‡­ğŸ‡·',
  'Bosnia and Herzegovina': 'ğŸ‡§ğŸ‡¦',
  'Albania': 'ğŸ‡¦ğŸ‡±',
  'Lithuania': 'ğŸ‡±ğŸ‡¹',
  'Slovenia': 'ğŸ‡¸ğŸ‡®',
  'Latvia': 'ğŸ‡±ğŸ‡»',
  'Estonia': 'ğŸ‡ªğŸ‡ª',
  'Macedonia': 'ğŸ‡²ğŸ‡°',
  'Moldova': 'ğŸ‡²ğŸ‡©',
  'Malta': 'ğŸ‡²ğŸ‡¹',
  'Iceland': 'ğŸ‡®ğŸ‡¸',
  'Luxembourg': 'ğŸ‡±ğŸ‡º',
  'Montenegro': 'ğŸ‡²ğŸ‡ª',
  'Russia': 'ğŸ‡·ğŸ‡º',
  'Ukraine': 'ğŸ‡ºğŸ‡¦',
  
  // Asia
  'China': 'ğŸ‡¨ğŸ‡³',
  'India': 'ğŸ‡®ğŸ‡³',
  'Indonesia': 'ğŸ‡®ğŸ‡©',
  'Pakistan': 'ğŸ‡µğŸ‡°',
  'Bangladesh': 'ğŸ‡§ğŸ‡©',
  'Japan': 'ğŸ‡¯ğŸ‡µ',
  'Philippines': 'ğŸ‡µğŸ‡­',
  'Vietnam': 'ğŸ‡»ğŸ‡³',
  'Turkey': 'ğŸ‡¹ğŸ‡·',
  'Iran': 'ğŸ‡®ğŸ‡·',
  'Thailand': 'ğŸ‡¹ğŸ‡­',
  'Myanmar': 'ğŸ‡²ğŸ‡²',
  'South Korea': 'ğŸ‡°ğŸ‡·',
  'Iraq': 'ğŸ‡®ğŸ‡¶',
  'Afghanistan': 'ğŸ‡¦ğŸ‡«',
  'Saudi Arabia': 'ğŸ‡¸ğŸ‡¦',
  'Malaysia': 'ğŸ‡²ğŸ‡¾',
  'Nepal': 'ğŸ‡³ğŸ‡µ',
  'Yemen': 'ğŸ‡¾ğŸ‡ª',
  'North Korea': 'ğŸ‡°ğŸ‡µ',
  'Syria': 'ğŸ‡¸ğŸ‡¾',
  'Sri Lanka': 'ğŸ‡±ğŸ‡°',
  'Cambodia': 'ğŸ‡°ğŸ‡­',
  'Jordan': 'ğŸ‡¯ğŸ‡´',
  'Azerbaijan': 'ğŸ‡¦ğŸ‡¿',
  'United Arab Emirates': 'ğŸ‡¦ğŸ‡ª',
  'UAE': 'ğŸ‡¦ğŸ‡ª',
  'Israel': 'ğŸ‡®ğŸ‡±',
  'Hong Kong': 'ğŸ‡­ğŸ‡°',
  'Laos': 'ğŸ‡±ğŸ‡¦',
  'Singapore': 'ğŸ‡¸ğŸ‡¬',
  'Lebanon': 'ğŸ‡±ğŸ‡§',
  'Palestine': 'ğŸ‡µğŸ‡¸',
  'Oman': 'ğŸ‡´ğŸ‡²',
  'Kuwait': 'ğŸ‡°ğŸ‡¼',
  'Georgia': 'ğŸ‡¬ğŸ‡ª',
  'Mongolia': 'ğŸ‡²ğŸ‡³',
  'Armenia': 'ğŸ‡¦ğŸ‡²',
  'Qatar': 'ğŸ‡¶ğŸ‡¦',
  'Bahrain': 'ğŸ‡§ğŸ‡­',
  'Taiwan': 'ğŸ‡¹ğŸ‡¼',
  'Kazakhstan': 'ğŸ‡°ğŸ‡¿',
  'Uzbekistan': 'ğŸ‡ºğŸ‡¿',
  'Kyrgyzstan': 'ğŸ‡°ğŸ‡¬',
  'Tajikistan': 'ğŸ‡¹ğŸ‡¯',
  'Turkmenistan': 'ğŸ‡¹ğŸ‡²',
  'Bhutan': 'ğŸ‡§ğŸ‡¹',
  'Maldives': 'ğŸ‡²ğŸ‡»',
  'Brunei': 'ğŸ‡§ğŸ‡³',
  
  // Africa
  'Nigeria': 'ğŸ‡³ğŸ‡¬',
  'Ethiopia': 'ğŸ‡ªğŸ‡¹',
  'Egypt': 'ğŸ‡ªğŸ‡¬',
  'South Africa': 'ğŸ‡¿ğŸ‡¦',
  'Tanzania': 'ğŸ‡¹ğŸ‡¿',
  'Kenya': 'ğŸ‡°ğŸ‡ª',
  'Uganda': 'ğŸ‡ºğŸ‡¬',
  'Algeria': 'ğŸ‡©ğŸ‡¿',
  'Sudan': 'ğŸ‡¸ğŸ‡©',
  'Morocco': 'ğŸ‡²ğŸ‡¦',
  'Angola': 'ğŸ‡¦ğŸ‡´',
  'Ghana': 'ğŸ‡¬ğŸ‡­',
  'Mozambique': 'ğŸ‡²ğŸ‡¿',
  'Madagascar': 'ğŸ‡²ğŸ‡¬',
  'Cameroon': 'ğŸ‡¨ğŸ‡²',
  'Ivory Coast': 'ğŸ‡¨ğŸ‡®',
  'Niger': 'ğŸ‡³ğŸ‡ª',
  'Burkina Faso': 'ğŸ‡§ğŸ‡«',
  'Mali': 'ğŸ‡²ğŸ‡±',
  'Malawi': 'ğŸ‡²ğŸ‡¼',
  'Zambia': 'ğŸ‡¿ğŸ‡²',
  'Senegal': 'ğŸ‡¸ğŸ‡³',
  'Somalia': 'ğŸ‡¸ğŸ‡´',
  'Chad': 'ğŸ‡¹ğŸ‡©',
  'Zimbabwe': 'ğŸ‡¿ğŸ‡¼',
  'Guinea': 'ğŸ‡¬ğŸ‡³',
  'Rwanda': 'ğŸ‡·ğŸ‡¼',
  'Benin': 'ğŸ‡§ğŸ‡¯',
  'Tunisia': 'ğŸ‡¹ğŸ‡³',
  'Burundi': 'ğŸ‡§ğŸ‡®',
  'South Sudan': 'ğŸ‡¸ğŸ‡¸',
  'Togo': 'ğŸ‡¹ğŸ‡¬',
  'Sierra Leone': 'ğŸ‡¸ğŸ‡±',
  'Libya': 'ğŸ‡±ğŸ‡¾',
  'Liberia': 'ğŸ‡±ğŸ‡·',
  'Mauritania': 'ğŸ‡²ğŸ‡·',
  'Eritrea': 'ğŸ‡ªğŸ‡·',
  'Gambia': 'ğŸ‡¬ğŸ‡²',
  'Botswana': 'ğŸ‡§ğŸ‡¼',
  'Namibia': 'ğŸ‡³ğŸ‡¦',
  'Gabon': 'ğŸ‡¬ğŸ‡¦',
  'Lesotho': 'ğŸ‡±ğŸ‡¸',
  'Guinea-Bissau': 'ğŸ‡¬ğŸ‡¼',
  'Equatorial Guinea': 'ğŸ‡¬ğŸ‡¶',
  'Mauritius': 'ğŸ‡²ğŸ‡º',
  'Eswatini': 'ğŸ‡¸ğŸ‡¿',
  'Djibouti': 'ğŸ‡©ğŸ‡¯',
  'Comoros': 'ğŸ‡°ğŸ‡²',
  'Cape Verde': 'ğŸ‡¨ğŸ‡»',
  'Seychelles': 'ğŸ‡¸ğŸ‡¨',
  
  // Oceania
  'Australia': 'ğŸ‡¦ğŸ‡º',
  'Papua New Guinea': 'ğŸ‡µğŸ‡¬',
  'New Zealand': 'ğŸ‡³ğŸ‡¿',
  'Fiji': 'ğŸ‡«ğŸ‡¯',
  'Solomon Islands': 'ğŸ‡¸ğŸ‡§',
  'Vanuatu': 'ğŸ‡»ğŸ‡º',
  'Samoa': 'ğŸ‡¼ğŸ‡¸',
  'Micronesia': 'ğŸ‡«ğŸ‡²',
  'Tonga': 'ğŸ‡¹ğŸ‡´',
  'Kiribati': 'ğŸ‡°ğŸ‡®',
  'Palau': 'ğŸ‡µğŸ‡¼',
  'Marshall Islands': 'ğŸ‡²ğŸ‡­',
  'Tuvalu': 'ğŸ‡¹ğŸ‡»',
  'Nauru': 'ğŸ‡³ğŸ‡·',
};

/**
 * Get flag emoji for a country
 */
export function getCountryFlag(country: string | null | undefined): string {
  if (!country) return 'ğŸŒ';
  
  // Direct lookup
  if (countryFlags[country]) {
    return countryFlags[country];
  }
  
  // Case-insensitive lookup
  for (const [mappedCountry, flag] of Object.entries(countryFlags)) {
    if (mappedCountry.toLowerCase() === country.toLowerCase()) {
      return flag;
    }
  }
  
  // Return default world emoji
  return 'ğŸŒ';
}